import os

BASE_DIR = "events/notes/wuulong-notes-blog/static/walkgis_prj/features"
MAP_NAME = "大安大甲溪聯通管工程計畫地圖"

# Using the NEW filenames (20260101_...)
features = {
    "20260101_daan_dajia_pipeline_石岡壩.md": {
        "title": "石岡壩",
        "lat": 24.2797,
        "lon": 120.7691,
        "content": """# 石岡壩

石岡壩位於大甲溪下游，是大甲溪輸水管工程的**起點（左岸第一取水口）**。

## 大甲溪輸水管工程
石岡壩是本計畫的核心樞紐，輸水管由此延伸，沿著大甲溪左岸鋪設，全長約 10.2 公里。
*   **工程亮點**：第一標工程採用直徑達 5.48 公尺的潛盾機，並首度引入「蛋式潛盾設計」及「SPF耐震鋼管接頭」，大幅提升抗震能力。
*   **效益**：完工後每日可增加 25.5 萬噸供水量，供應約 100 萬人使用。

## 歷史與功能
於1977年竣工，雖經921地震受損，但經修復後仍持續調節大甲溪水資源，供應大台中地區民生與工業用水。"""
    },
    "20260101_daan_dajia_pipeline_鯉魚潭水庫.md": {
        "title": "鯉魚潭水庫",
        "lat": 24.3415,
        "lon": 120.7819,
        "content": """# 鯉魚潭水庫

鯉魚潭水庫是**鯉魚潭第二原水管工程**的起點，設有備援出水工。

## 鯉魚潭第二原水管
此工程旨在靈活調度與備援。
*   **規格**：管徑高達 2,600 毫米，每日最高輸水量可達 110 萬噸。
*   **路線**：從水庫出發，經由隧道穿越枕頭山，再以水管橋跨越大安溪，最終連接至后里第一淨水場。

## 特色
擁有全台唯一的**鋸齒堰溢洪道**，是苗栗縣最大的離槽水庫。"""
    },
    "20260101_daan_dajia_pipeline_后里第一淨水場.md": {
        "title": "后里第一淨水場",
        "lat": 24.3195,
        "lon": 120.7359,
        "content": """# 后里第一淨水場

位於中科后里園區內，是本計畫中新建的關鍵淨水設施，預計 2026 年完工。

## 核心功能
*   **系統串接**：地理位置上連接了北側的「鯉魚潭系統」與南側的「大甲溪系統」，實現水源的互通有無。
*   **處理能力**：設計每日處理量達 20 萬噸，主要供應中科園區及大台中地區。
*   **綠能設施**：場內規劃設置小水力發電設備，利用水流位能發電。"""
    },
    "20260101_daan_dajia_pipeline_枕頭山 (苗栗).md": {
        "title": "枕頭山 (苗栗)",
        "lat": 24.3343,
        "lon": 120.7660,
        "content": """# 枕頭山 (苗栗)

苗栗三義鄉的特殊地標，因山形似枕頭而得名。

## 關鍵隧道工程
鯉魚潭第二原水管在此處進行艱鉅的隧道工程。
*   **長度**：隧道長約 1.5 公里 (另一說為 1,854 公尺)。
*   **挑戰**：工程需穿越複雜地質，但已順利貫通，讓巨大原水管能穿山而過，將水送往大安溪南岸。"""
    },
    "20260101_daan_dajia_pipeline_大安溪水管橋 (后里圳水橋).md": {
        "title": "大安溪水管橋 (后里圳水橋)",
        "lat": 24.3258,
        "lon": 120.7516,
        "content": """# 大安溪水管橋 (后里圳水橋)

此處是跨越大安溪的關鍵節點，見證了跨越百年的水利工程對話。

## 新舊交映
*   **古蹟**：原有的「后里圳水橋」建於1913年，是優美的磚造拱形渡槽。
*   **新工程**：大安大甲溪聯通管計畫在此新建一座現代化的水管橋，長度約 0.85 公里，讓鯉魚潭第二原水管能跨越寬闊的大安溪河床。"""
    }
}

for filename, data in features.items():
    filepath = os.path.join(BASE_DIR, filename)
    # Check if file exists to be safe
    if os.path.exists(filepath):
        file_content = f"""---
id: {filename.replace('.md', '')}
title: {data['title']}
tags: [{MAP_NAME}, 水利設施]
coordinate: [{data['lat']}, {data['lon']}]
---
{data['content']}

## 地理資訊
*   緯度: {data['lat']}
*   經度: {data['lon']}
"""
        with open(filepath, "w", encoding="utf-8") as f:
            f.write(file_content)
        print(f"Enriched: {filepath}")
    else:
        print(f"Skipping (Not Found): {filepath}")
